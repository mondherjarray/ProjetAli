{"version":3,"file":"countup.js-angular2.js.map","sources":["ng://countup.js-angular2/lib/count-up.directive.ts","ng://countup.js-angular2/lib/count-up.module.ts"],"sourcesContent":["import {\n  Directive,\n  ElementRef,\n  Input,\n  Output,\n  HostListener,\n  EventEmitter,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport * as CountUp from 'countup.js';\n\n@Directive({\n  selector: '[countUp]'\n})\nexport class CountUpDirective implements OnChanges {\n\n  countUp: any;\n  // Optional extra configuration, such as easing.\n  @Input('countUp') options: any;\n\n  // Optional start value for the count. Defaults to zero.\n  @Input() startVal: number;\n\n  // the number to count to\n  @Input() endVal: number;\n\n  // Optional duration of the animation in seconds. Default is 2.\n  @Input() duration: number;\n\n  // Optional number of decimal places. Default is 2.\n  @Input() decimals: number;\n  \n  // Optional flag for specifying whether the element should re-animate when clicked.\n  // Default is true.\n  @Input() reanimateOnClick: boolean;\n\n  // Re-animate if preference is set.\n  @HostListener('click')\n  onClick() {\n    if (this.reanimateOnClick) {\n      this.animate();\n    }\n  }\n\n  // on-complete event emitter\n  @Output() complete = new EventEmitter<void>();\n\n  constructor(private el: ElementRef) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.endVal && changes.endVal.currentValue) {\n      this.countUp = this.createCountUp();\n      this.animate();\n    }\n  }\n\n  private createCountUp(): any {\n    const start = this.startVal || 0;\n    const duration = this.duration || 2;\n    const decimals = this.decimals || 0;\n\n    if (!this.duration) {\n      this.duration = duration;\n    }\n\n    // construct countUp\n    let countUp = new CountUp(this.el.nativeElement, start, this.endVal, decimals, duration, this.options);\n    const diff = Math.abs(this.endVal - start);\n    // make easing smoother for large numbers\n    if (diff > 999) {\n      const up = (this.endVal > start) ? -1 : 1;\n      countUp = new CountUp(this.el.nativeElement, start, this.endVal + (up * 100), decimals, duration / 2, this.options);\n    }\n\n    return countUp;\n  }\n\n  private animate() {\n    this.countUp.reset();\n    if (this.endVal > 999) {\n      this.countUp.start(() => this.countUp.update(this.endVal));\n      setTimeout(() => {\n        this.complete.emit();\n      }, this.duration * 1000);\n    } else {\n      this.countUp.start(() => {\n        this.complete.emit();\n      });\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CountUpDirective } from './count-up.directive';\n\n@NgModule({\n  imports: [],\n  declarations: [CountUpDirective],\n  exports: [CountUpDirective]\n})\nexport class CountUpModule { }\n"],"names":[],"mappings":";;;;;;;AAAA;;;;IAgDE,YAAoB,EAAc;QAAd,OAAE,GAAF,EAAE,CAAY;;QAFxB,aAAQ,GAAG,IAAI,YAAY,EAAQ,CAAC;KAER;;;;;IATtC,OAAO;QACL,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,IAAI,CAAC,OAAO,EAAE,CAAC;SAChB;KACF;;;;;IAOD,WAAW,CAAC,OAAsB;QAChC,IAAI,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,CAAC,YAAY,EAAE;YACjD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YACpC,IAAI,CAAC,OAAO,EAAE,CAAC;SAChB;KACF;;;;IAEO,aAAa;;cACb,KAAK,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC;;cAC1B,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC;;cAC7B,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC;QAEnC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;SAC1B;;;YAGG,OAAO,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC;;cAChG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;;QAE1C,IAAI,IAAI,GAAG,GAAG,EAAE;;kBACR,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC;YACzC,OAAO,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,IAAI,EAAE,GAAG,GAAG,CAAC,EAAE,QAAQ,EAAE,QAAQ,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SACrH;QAED,OAAO,OAAO,CAAC;KAChB;;;;IAEO,OAAO;QACb,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACrB,IAAI,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE;YACrB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAC3D,UAAU,CAAC;gBACT,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;aACtB,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;SAC1B;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;gBACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;aACtB,CAAC,CAAC;SACJ;KACF;;;YA9EF,SAAS,SAAC;gBACT,QAAQ,EAAE,WAAW;aACtB;;;YAZC,UAAU;;;sBAiBT,KAAK,SAAC,SAAS;uBAGf,KAAK;qBAGL,KAAK;uBAGL,KAAK;uBAGL,KAAK;+BAIL,KAAK;sBAGL,YAAY,SAAC,OAAO;uBAQpB,MAAM;;;;;;;AC9CT;;;YAGC,QAAQ,SAAC;gBACR,OAAO,EAAE,EAAE;gBACX,YAAY,EAAE,CAAC,gBAAgB,CAAC;gBAChC,OAAO,EAAE,CAAC,gBAAgB,CAAC;aAC5B;;;;;;;;;;;;;;;"}
